<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      {{ query | uppercase }}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!--Header with title and refresh button-->
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Shows</ion-title>
      <ion-button slot="end" fill="clear" (click)="onClickHomeButton()">
        <ion-icon
          slot="icon-only"
          name="refresh-outline"
          style="color: white;"
        ></ion-icon>
      </ion-button>
    </ion-toolbar>
  </ion-header>

  <div style="background-color: #000000 !important;">
    <!--Searchbar-->
    <div>
      <ion-searchbar
        animated
        showCancelButton="focus"
        cancelButtonText="Cancel"
        placeholder="Search"
        (search)="getDataBySearch($event.target.value)"
        ng-model="query"
      ></ion-searchbar>
    </div>

    <!--Search For Text show up-->
    <div>
      <ion-text>
        <div *ngIf="query == null">
          <h6 style="margin-left: 20px;"></h6>
        </div>
        <div *ngIf="query != null">
          <h6 style="margin-left: 20px;">
            Search for: {{ query | uppercase }}
          </h6>
        </div>
      </ion-text>
    </div>

    <!--  Ion List for search reseults   -->
    <ion-list *ngIf="hideSearch">
      <ion-item
        (click)="openShowDetails($event, item)"
        *ngFor="let item of filteredResult"
      >
        <!--  Ion List Header   -->
        <ion-avatar slot="start"
          ><img [src]="item.show.image.original" />
        </ion-avatar>
        <h2 slot="end" class="rating" *ngIf="item.show.rating.average == null">
          --/10
        </h2>
        <h2 slot="end" class="rating" *ngIf="item.show.rating.average != null">
          {{item.show.rating.average}}/10
        </h2>

        <ion-label>
          <h1>{{item.show.name}}</h1>

          <h3>
            {{ item.show.language }} <br />
            {{ item.show.genres }}
          </h3>
          <div>
            <div *ngIf="item.show.status === 'Running'" class="run">
              {{ item.show.status }} <br />
            </div>
            <div *ngIf="item.show.status === 'Ended'" class="ended">
              {{ item.show.status }} <br />
            </div>
            <div *ngIf="item.show.status === 'In Development'" class="inDev">
              {{ item.show.status }} <br />
            </div>
            <div
              *ngIf="item.show.status != 'Running' && item.show.status !=  'Ended' && item.show.status !=  'In Development'"
              class="otherStatus"
            >
              {{ item.show.status }} <br />
            </div>
          </div>
        </ion-label>
      </ion-item>
    </ion-list>
    <!--Cards to generate random shows-->
    <ion-card
      class="randomGenCard"
      *ngFor="let item of randomListGenerated"
      button
      (click)="launchFromHome($event, item)"
    >
      <!--Image Layer-->
      <div>
        <img class="cardImage" [src]="item.image.original" />
      </div>
      <!-- <div class="overlayColor"><img /></div> -->
      <!--Overlay Layer-->
      <div class="gradientLayer"><img /></div>

      <div *ngIf="item.rating.average != null" class="cardRating">
        ★ {{item.rating.average}}
      </div>
      <div *ngIf="item.rating.average == null" class="cardRating">★ --</div>
      <!--Title-->
      <div class="cardTitle">{{item.name}}</div>
      <div class="cardLanguage">{{item.language}}</div>
    </ion-card>
  </div>
</ion-content>
